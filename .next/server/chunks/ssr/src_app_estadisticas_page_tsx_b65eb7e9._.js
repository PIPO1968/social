module.exports=[96239,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(44355),e=a.i(54925);function f(){let a,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,{t:y}=(0,d.useTranslation)(),[z,A]=c.default.useState(!1),[B,C]=c.default.useState(null),[D,E]=c.default.useState([]),[F,G]=c.default.useState([]),[H,I]=c.default.useState([]),[J,K]=c.default.useState(!0);return(c.default.useEffect(()=>{(async()=>{try{K(!0);let a=await fetch("/api/auth/me");if(a.ok){let b=await a.json();b.user&&(C(b.user),A(b.user.premium||!1))}let b=await fetch("/api/users");if(b.ok){let a=await b.json();E(a)}try{let a=await fetch("/api/historias");if(a.ok){let b=await a.json();G(b)}}catch(a){console.warn("API de historias no disponible:",a)}try{let a=await fetch("/api/concursos");if(a.ok){let b=await a.json();I(b)}}catch(a){console.warn("API de concursos no disponible:",a)}}catch(a){console.error("Error loading data:",a)}finally{K(!1)}})()},[]),J)?(0,b.jsxs)("div",{className:"min-h-screen bg-green-100 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto mb-4"}),(0,b.jsx)("p",{children:"Cargando estadÃ­sticas..."})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-green-100 p-8",children:[(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("h1",{className:"text-2xl font-bold",children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-yellow-600",children:y("estadisticasPremium")}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Â¡Hola ",B?.nick,"! Disfrutas de estadÃ­sticas avanzadas"]})]}):(0,b.jsxs)(b.Fragment,{children:["EstadÃ­sticas",(0,b.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:(0,b.jsxs)("button",{onClick:()=>window.location.href="/premium-nuevo",className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-xs hover:shadow-lg transform hover:scale-105 transition-all",children:["âœ¨ ",y("haztePremiumParaVer")," âœ¨"]})})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:y("estadisticasGlobales")}),(0,b.jsxs)("ul",{className:"space-y-2",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ†"}),(0,b.jsxs)("b",{children:[y("totalCompeticionesSuperadas"),":"]})," ",(a=0,D.forEach(b=>{a+=b.competicionesSuperadas||0}),a)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ‘¥"}),(0,b.jsxs)("b",{children:[y("totalUsuarios"),":"]})," ",D.length]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ“–"}),(0,b.jsxs)("b",{children:[y("totalHistoriasCreadas"),":"]})," ",F.length]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ†"}),(0,b.jsxs)("b",{children:[y("totalConcursosCreados"),":"]})," ",H.length]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ’¬"}),(0,b.jsx)("b",{children:"Total de comentarios realizados:"})," ",(f=0,F.forEach(a=>{f+=a.comentarios?a.comentarios.length:0}),f)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ«"}),(0,b.jsx)("b",{children:"Total de centros escolares registrados:"})," ",new Set(D.map(a=>a.centro).filter(Boolean)).size]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ‘¨â€ðŸ«"}),(0,b.jsx)("b",{children:"Total de docentes registrados:"})," ",D.filter(a=>"docente"===(a.tipo||"").toLowerCase()).length||0]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ¤"}),(0,b.jsx)("b",{children:"Total de amigos creados:"})," ",(g=0,D.forEach(a=>{let b=a.amigosComoUser?.length||0;g+=b}),g>0?g:0)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ…"}),(0,b.jsx)("b",{children:"Total de historias ganadoras:"})," ",H.filter(a=>a.historiaGanadora).length||0]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"}),(0,b.jsx)("b",{children:"Total de participantes en concursos:"})," ",(h=0,D.forEach(a=>{a.historias&&Array.isArray(a.historias)&&a.historias.length>0&&h++}),h)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"â¤ï¸"}),(0,b.jsx)("b",{children:"Total de likes:"})," ",(i=0,D.forEach(a=>{i+=a.likes||0}),i)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"â“"}),(0,b.jsx)("b",{children:"Total de preguntas respondidas:"})," ",(j=0,k=0,D.forEach(a=>{if(j+=a.respuestasAcertadas||0,a.stats_individual){let b=JSON.parse(a.stats_individual);k+=b.preguntasFalladas||0}}),j+k)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"â“"}),(0,b.jsxs)("b",{children:[y("totalPreguntasAcertadas"),":"]})," ",(l=0,D.forEach(a=>{l+=a.respuestasAcertadas||0}),l)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"â“"}),(0,b.jsx)("b",{children:"Total de preguntas falladas:"})," ",(m=0,D.forEach(a=>{if(a.stats_individual){let b=JSON.parse(a.stats_individual);m+=b.preguntasFalladas||0}}),m)]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ†"}),(0,b.jsx)("b",{children:"Total de concursos ganados:"})," ",(n=0,D.forEach(a=>{n+=a.concursosGanados||0}),n)]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Rankings"}),(0,b.jsxs)("ul",{className:"space-y-2",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"â¤ï¸"}),(0,b.jsxs)("b",{children:[y("usuariosMasLikes"),":"]})," ",0===(o=D.map(a=>({nick:a.nick,nombre:a.nombre,totalLikes:a.likes||0})).filter(a=>a.nick&&a.totalLikes>0).sort((a,b)=>b.totalLikes-a.totalLikes).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con likes."}):o.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.totalLikes," likes)"]},a.nick))]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ’¬"}),(0,b.jsxs)("b",{children:[y("usuariosMasComentarios"),":"]})," ",(p={},F.forEach(a=>{a.autor&&(p[a.autor]=(p[a.autor]||0)+(a.comentarios?a.comentarios.length:0))}),0===(q=Object.entries(p).map(([a,b])=>({nick:a,totalComentarios:b})).filter(a=>a.nick&&a.totalComentarios>0).sort((a,b)=>b.totalComentarios-a.totalComentarios).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con comentarios aÃºn."}):q.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.totalComentarios," comentarios)"]},a.nick)))]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ¤"}),(0,b.jsx)("b",{children:"Usuarios con mÃ¡s amigos:"})," ",0===(r=D.map(a=>{let b=a.amigosComoUser?.length||0;return{nick:a.nick,numAmigos:b}}).filter(a=>a.nick&&a.numAmigos>0).sort((a,b)=>b.numAmigos-a.numAmigos).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con amigos aÃºn."}):r.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.numAmigos," amigos)"]},a.nick))]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ“–"}),(0,b.jsx)("b",{children:"Usuarios con mÃ¡s historias:"})," ",(s={},F.forEach(a=>{a.autor&&(s[a.autor]=(s[a.autor]||0)+1)}),0===(t=Object.entries(s).map(([a,b])=>({nick:a,totalHistorias:b})).filter(a=>a.nick&&a.totalHistorias>0).sort((a,b)=>b.totalHistorias-a.totalHistorias).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con historias aÃºn."}):t.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.totalHistorias," historias)"]},a.nick)))]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ†"}),(0,b.jsx)("b",{children:"Usuarios con mÃ¡s concursos ganados:"})," ",0===(u=D.map(a=>({nick:a.nick,nombre:a.nombre,totalConcursos:a.concursosGanados||0})).filter(a=>a.totalConcursos>0).sort((a,b)=>b.totalConcursos-a.totalConcursos).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con concursos ganados aÃºn."}):u.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.totalConcursos," concursos)"]},a.nick))]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ†"}),(0,b.jsx)("b",{children:"Usuarios con mÃ¡s competiciones superadas:"})," ",0===(v=D.map(a=>({nick:a.nick,nombre:a.nombre,totalCompeticiones:a.competicionesSuperadas||0})).filter(a=>a.totalCompeticiones>0).sort((a,b)=>b.totalCompeticiones-a.totalCompeticiones).slice(0,5)).length?(0,b.jsx)("span",{className:"block",children:"No hay usuarios con competiciones superadas aÃºn."}):v.map((a,c)=>(0,b.jsxs)("span",{className:"block",children:[c+1,". ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.nick})})," (",a.totalCompeticiones," competiciones)"]},a.nick))]})]})]})]}),z&&(0,b.jsx)("div",{className:"max-w-5xl mx-auto mt-8",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 rounded-2xl p-1 shadow-2xl",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-yellow-500 to-orange-600",children:"ðŸ‘‘ EstadÃ­sticas Premium Avanzadas ðŸ‘‘"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-blue-800 mb-3 text-center",children:"ðŸ“ˆ Tu AnÃ¡lisis Personal"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸŽ¯ PrecisiÃ³n promedio:"}),(0,b.jsx)("span",{className:"font-bold text-blue-600",children:(()=>{if(B){let a=B.respuestasAcertadas||0,b=a+0;return b>0?(a/b*100).toFixed(1)+"%":"0%"}return"0%"})()})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"âš¡ Racha actual:"}),(0,b.jsxs)("span",{className:"font-bold text-blue-600",children:[B?.racha||0," dÃ­as"]})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ“… DÃ­as activo:"}),(0,b.jsx)("span",{className:"font-bold text-blue-600",children:(()=>{if(B?.fechaRegistro){let a=new Date(B.fechaRegistro);return Math.ceil(Math.abs(new Date().getTime()-a.getTime())/864e5)}return 0})()})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ† Tu ranking:"}),(0,b.jsx)("span",{className:"font-bold text-blue-600",children:(()=>{if(D.length>0&&B){let a=D.map(a=>({...a,puntosTotales:a.respuestasAcertadas||0})).sort((a,b)=>b.puntosTotales-a.puntosTotales).findIndex(a=>a.nick===B.nick)+1;return a>0?`#${a}`:"-"}return"-"})()})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-green-800 mb-3 text-center",children:"ðŸ“š AnÃ¡lisis por Materias"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ”¬ MatemÃ¡ticas:"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:"Datos no disponibles"})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ“– Lenguaje:"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:"Datos no disponibles"})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸŒ GeografÃ­a:"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:"Datos no disponibles"})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ“š Historia:"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:"Datos no disponibles"})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸŽ¨ Tu fuerte:"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:"Datos no disponibles"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-purple-800 mb-3 text-center",children:"ðŸŽ¯ Logros y ProyecciÃ³n"}),(0,b.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸ“ˆ Crecimiento:"}),(0,b.jsx)("span",{className:"font-bold text-purple-600",children:(()=>{if(B){let a=B.respuestasAcertadas||0,b=a+0;if(b>0){let c=Math.max(0,Math.floor(a/b*100-50));return`+${c}% sem.`}}return"+0% sem."})()})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"ðŸŽ¯ Meta semanal:"}),(0,b.jsx)("span",{className:"font-bold text-purple-600",children:(()=>{if(B){let a=B.respuestasAcertadas||0,b=a+0;if(b>0){let c=a/b*100;return c>=75?"75% âœ…":`${c.toFixed(1)}% âŒ`}}return"0% âŒ"})()})]}),(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"â­ PrÃ³ximo nivel:"}),(0,b.jsx)("span",{className:"font-bold text-purple-600",children:(()=>{if(B){let a=function(a){if(!a||!a.nick)return 0;let b=0;return["matematicas","lenguaje","geografia","historia","literatura","ingles","naturaleza"].forEach(c=>{let d=(a.stats_individual?JSON.parse(a.stats_individual):{})[c]||0;b+=d}),b+=a.likes||0,b+=10*(a.competicionesSuperadas||0),b+=2*(a.respuestasAcertadas||0)}(B),b=Math.floor(a/100);return`${(b+1)*100-a} pts`}return"100 pts"})()})]})]})]})]}),(0,b.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-indigo-800 mb-3 text-center",children:"ðŸ“Š GrÃ¡fico de Progreso Semanal"}),(0,b.jsx)("div",{className:"flex items-end justify-between h-32 gap-2",children:[...Array(7)].map((a,c)=>{let d=B?Math.max(0,Math.floor((B.respuestasAcertadas||0)/7)+(Math.floor(5*Math.random())-2)):Math.floor(5*Math.random())+1,e=Math.max(20,Math.min(100,d/25*80+20)),f=["L","M","X","J","V","S","D"][c],g=c===new Date().getDay()-1||0===new Date().getDay()&&6===c;return(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`w-8 rounded-t-md ${g?"bg-gradient-to-t from-orange-500 to-red-500":"bg-gradient-to-t from-blue-500 to-purple-500"}`,style:{height:`${e}%`}}),(0,b.jsx)("span",{className:`text-xs mt-1 font-semibold ${g?"text-orange-600":"text-indigo-600"}`,children:f}),(0,b.jsx)("span",{className:"text-xs text-gray-500",children:d})]},c)})}),(0,b.jsxs)("div",{className:"text-center mt-3 text-sm text-indigo-600",children:["ðŸ“ˆ ",(0,b.jsx)("strong",{children:"Tendencia:"})," ",(()=>{if(B){let a=B.respuestasAcertadas||0,b=0+a>0?a/(0+a)*100:0;return b>=80?"Â¡Excelente! MantÃ©n este nivel de precisiÃ³n.":b>=60?"Â¡Vas muy bien! MantÃ©n el ritmo esta semana.":b>=40?"Buen progreso. Â¡Sigue practicando!":"Empezando bien. Â¡Cada respuesta cuenta!"}return"Â¡Empieza tu aventura de aprendizaje!"})()]})]}),(0,b.jsxs)("div",{className:"mt-6 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-orange-800 mb-3 text-center",children:"âš”ï¸ Tu PosiciÃ³n vs. Mejores"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-2xl",children:"ðŸ¥‡"}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"1Âº Lugar"}),(0,b.jsx)("div",{className:"font-bold text-yellow-600",children:(w=D.map(a=>({...a,puntosTotales:a.respuestasAcertadas||0})).sort((a,b)=>b.puntosTotales-a.puntosTotales),w[0]?.puntosTotales||0)}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:(x=D.map(a=>({...a,puntosTotales:a.respuestasAcertadas||0})).sort((a,b)=>b.puntosTotales-a.puntosTotales),x[0]?.nick||"Nadie")})]}),(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg p-3 border-2 border-blue-300",children:[(0,b.jsx)("div",{className:"text-2xl",children:"ðŸ‘‘"}),(0,b.jsx)("div",{className:"text-xs text-blue-600 font-bold",children:"TÃš"}),(0,b.jsx)("div",{className:"font-bold text-blue-600",children:B&&B.respuestasAcertadas||0}),(0,b.jsx)("div",{className:"text-xs text-blue-500",children:(()=>{if(B){let a=D.map(a=>({...a,puntosTotales:a.respuestasAcertadas||0})).sort((a,b)=>b.puntosTotales-a.puntosTotales).findIndex(a=>a.nick===B.nick)+1;return a>0?`Posici\xf3n #${a}`:"Sin clasificar"}return"Sin clasificar"})()})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[(0,b.jsx)("div",{className:"text-2xl",children:"ðŸŽ¯"}),(0,b.jsx)("div",{className:"text-xs text-gray-600",children:"Promedio"}),(0,b.jsx)("div",{className:"font-bold text-gray-600",children:Math.floor(D.reduce((a,b)=>a+(b.respuestasAcertadas||0),0)/D.length)}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:`${D.length} usuarios`})]})]}),(0,b.jsx)("div",{className:"mt-3 text-center text-sm",children:(()=>{if(B){let a=Math.floor(D.reduce((a,b)=>a+(b.respuestasAcertadas||0),0)/D.length),c=(B.respuestasAcertadas||0)-a;return c>0?(0,b.jsxs)("span",{className:"text-green-600",children:["ðŸ“ˆ +",c," puntos sobre el promedio"]}):c<0?(0,b.jsxs)("span",{className:"text-red-600",children:["ðŸ“‰ ",Math.abs(c)," puntos bajo el promedio"]}):(0,b.jsx)("span",{className:"text-blue-600",children:"ðŸŽ¯ Exactamente en el promedio"})}return(0,b.jsx)("span",{className:"text-gray-500",children:"Sin datos para comparar"})})()})]})]})})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-5xl mx-auto mt-8",children:[(0,b.jsx)("h2",{className:"text-lg font-bold mb-4 text-center",children:"Mejores estadÃ­sticas"}),(0,b.jsxs)("ul",{className:"space-y-2 text-center",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ“–"}),(0,b.jsx)("b",{children:"Historia con mÃ¡s likes:"})," ",(()=>{if(0===F.length)return"-";let a=F.reduce((a,b)=>(b.likes||0)>(a.likes||0)?b:a,F[0]);return(0,b.jsxs)("span",{children:[(0,b.jsx)("b",{children:a.titulo})," por ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.autor})})," ",(0,b.jsxs)("span",{className:"text-pink-600",children:["â¤ï¸ ",a.likes||0]})]})})()]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ’¬"}),(0,b.jsx)("b",{children:"Historia mÃ¡s comentada:"})," ",(()=>{if(0===F.length)return"-";let a=F.reduce((a,b)=>(b.comentarios?b.comentarios.length:0)>(a.comentarios?a.comentarios.length:0)?b:a,F[0]);return(0,b.jsxs)("span",{children:[(0,b.jsx)("b",{children:a.titulo})," por ",(0,b.jsx)("b",{children:(0,b.jsx)(e.UserLink,{nick:a.autor})})," ",(0,b.jsxs)("span",{className:"text-blue-600",children:["ðŸ’¬ ",a.comentarios?a.comentarios.length:0]})]})})()]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ«"}),(0,b.jsx)("b",{children:"Centro con mÃ¡s historias creadas:"})," ",(()=>{if(0===F.length||0===D.length)return"-";let a={};D.forEach(b=>{b.nick&&b.centro&&(a[b.nick]=b.centro)});let c={};F.forEach(b=>{let d=b.centro||a[b.autor]||null;d&&(c[d]=(c[d]||0)+1)});let d=Object.entries(c).sort((a,b)=>b[1]-a[1])[0];return d?(0,b.jsxs)("span",{children:[(0,b.jsx)("b",{children:d[0]})," ",(0,b.jsxs)("span",{className:"text-purple-600",children:["ðŸ« ",d[1]]})]}):"-"})()]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("span",{className:"mr-2 text-xl",children:"ðŸ«"}),(0,b.jsx)("b",{children:"Centro Escolar con mÃ¡s usuarios activos:"})," ",(()=>{if(0===D.length)return"-";let a={};D.forEach(b=>{b.centro&&(a[b.centro]=(a[b.centro]||0)+1)});let c=Object.entries(a).sort((a,b)=>b[1]-a[1])[0];return c?(0,b.jsxs)("span",{children:[(0,b.jsx)("b",{children:c[0]})," ",(0,b.jsxs)("span",{className:"text-blue-600",children:["ðŸ« ",c[1]]})]}):"-"})()]})]})]})]})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_estadisticas_page_tsx_b65eb7e9._.js.map