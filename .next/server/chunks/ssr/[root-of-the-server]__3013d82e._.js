module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},59722,a=>{"use strict";a.s(["BUTTON_STYLES",0,{primary:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",primaryBold:"bg-blue-500 text-white px-4 py-2 rounded font-semibold hover:bg-blue-600 transition-colors",primaryLarge:"bg-blue-500 text-white px-6 py-3 rounded font-semibold hover:bg-blue-600 transition-colors",secondary:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors",secondaryLarge:"bg-gray-500 text-white px-6 py-3 rounded font-semibold hover:bg-gray-600 transition-colors",lightGray:"bg-gray-200 text-gray-700 px-4 py-2 rounded font-semibold border hover:bg-gray-300 transition-colors",success:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",successBold:"bg-green-500 text-white px-4 py-2 rounded font-semibold hover:bg-green-600 transition-colors",successLarge:"bg-green-500 text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",danger:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors",dangerBold:"bg-red-500 text-white px-4 py-2 rounded font-semibold hover:bg-red-600 transition-colors",warning:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors",warningBold:"bg-yellow-500 text-white px-4 py-2 rounded font-semibold hover:bg-yellow-600 transition-colors",purple:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors",orange:"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors",pink:"bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition-colors",pinkBold:"bg-pink-500 text-white px-4 py-2 rounded font-semibold hover:bg-pink-600 transition-colors"},"CARD_STYLES",0,{default:"bg-white rounded-lg shadow-md p-6",bordered:"bg-white rounded-lg shadow-md p-6 border",premium:"bg-white rounded-lg shadow-md p-6 border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50"}])},32149,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(59722);a.s(["default",0,()=>{let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1);if((0,c.useEffect)(()=>{(async()=>{try{let b=await fetch("/api/auth/me");if(!b.ok)return void a.push("/login");{let a=await b.json();g(a.user)}}catch(b){console.error("Error loading user:",b),a.push("/login");return}finally{i(!1)}})()},[a]),h)return(0,b.jsx)("div",{className:"min-h-screen bg-green-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-900 mx-auto mb-4"}),(0,b.jsx)("p",{children:"Cargando..."})]})});if(!f)return(0,b.jsx)("div",{className:"min-h-screen bg-green-100 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{children:"No se pudo cargar la informaciÃ³n del usuario."}),(0,b.jsx)("button",{className:e.BUTTON_STYLES.primary,onClick:()=>a.push("/login"),children:"Ir al login"})]})});let l=f.premium||!1,m=["/avatars/simple1.png",...Array.from({length:29},(a,b)=>`/avatars/simple${b+2}.jpg`)],n=Array.from({length:50},(a,b)=>`/avatars/apremium${b+1}.jpg`),o=[...m,...n],p=m.length,q=async b=>{if(!j){if(n.includes(b)&&!l)return void alert("Solo usuarios premium pueden seleccionar avatares premium.");k(!0);try{let c=await fetch("/api/users/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nick:f.nick,avatar:b})});if(c.ok)a.push("/perfil");else{let a=await c.json();alert("Error al actualizar el avatar: "+(a.error||"Desconocido"))}}catch(a){console.error("Error saving avatar:",a),alert("Error al actualizar el avatar.")}finally{k(!1)}}};return(0,b.jsxs)("div",{className:"min-h-screen bg-green-100 flex flex-col items-center pt-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Seleccionar Avatar"}),(0,b.jsxs)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg max-w-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-yellow-800",children:[(0,b.jsx)("span",{className:"text-lg",children:"ðŸ‘‘"}),(0,b.jsx)("span",{className:"font-semibold",children:"Avatares Premium"})]}),(0,b.jsxs)("p",{className:"text-sm text-yellow-700 mt-1",children:["Los avatares con corona dorada son exclusivos para usuarios Premium.",!l&&" Â¡Hazte Premium para desbloquearlos!"]})]}),j&&(0,b.jsxs)("div",{className:"mb-4 text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-900 mx-auto mb-2"}),(0,b.jsx)("p",{children:"Guardando avatar..."})]}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-4 mb-8",children:o.map((a,c)=>{let d=c>=p,e=!d||l;return(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("img",{src:a,alt:`Avatar ${c+1}${d?" (Premium)":""}`,className:`w-16 h-16 rounded-full border-2 transition-all duration-200 ${!e?"cursor-not-allowed opacity-60 grayscale":"cursor-pointer border-gray-300 hover:border-blue-400"} ${d?"ring-2 ring-yellow-400 ring-opacity-50":""}`,onClick:()=>e&&q(a),title:d&&!l?"Avatar Premium - Hazte Premium para usarlo":`Avatar ${c+1}`}),d&&(0,b.jsx)("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center text-xs font-bold text-white shadow-lg",children:"ðŸ‘‘"})]},c)})}),(0,b.jsx)("div",{className:"flex gap-4",children:(0,b.jsx)("button",{className:e.BUTTON_STYLES.secondaryLarge,onClick:()=>a.push("/perfil"),disabled:j,children:"Volver"})})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3013d82e._.js.map