{"version":3,"sources":["turbopack:///[project]/src/utils/styles.ts","turbopack:///[project]/src/components/ChampionshipQuiz.tsx","turbopack:///[project]/src/hooks/useQuizLogic.ts"],"sourcesContent":["// Constantes CSS reutilizables para mantener consistencia y eliminar duplicados\r\n\r\nexport const BUTTON_STYLES = {\r\n    primary: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors\",\r\n    primaryBold: \"bg-blue-500 text-white px-4 py-2 rounded font-semibold hover:bg-blue-600 transition-colors\",\r\n    primaryLarge: \"bg-blue-500 text-white px-6 py-3 rounded font-semibold hover:bg-blue-600 transition-colors\",\r\n    secondary: \"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors\",\r\n    secondaryLarge: \"bg-gray-500 text-white px-6 py-3 rounded font-semibold hover:bg-gray-600 transition-colors\",\r\n    lightGray: \"bg-gray-200 text-gray-700 px-4 py-2 rounded font-semibold border hover:bg-gray-300 transition-colors\",\r\n    success: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\",\r\n    successBold: \"bg-green-500 text-white px-4 py-2 rounded font-semibold hover:bg-green-600 transition-colors\",\r\n    successLarge: \"bg-green-500 text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\r\n    danger: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors\",\r\n    dangerBold: \"bg-red-500 text-white px-4 py-2 rounded font-semibold hover:bg-red-600 transition-colors\",\r\n    warning: \"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors\",\r\n    warningBold: \"bg-yellow-500 text-white px-4 py-2 rounded font-semibold hover:bg-yellow-600 transition-colors\",\r\n    purple: \"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors\",\r\n    orange: \"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors\",\r\n    pink: \"bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition-colors\",\r\n    pinkBold: \"bg-pink-500 text-white px-4 py-2 rounded font-semibold hover:bg-pink-600 transition-colors\",\r\n} as const; export const INPUT_STYLES = {\r\n    default: \"border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500\",\r\n    small: \"border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",\r\n} as const;\r\n\r\nexport const CARD_STYLES = {\r\n    default: \"bg-white rounded-lg shadow-md p-6\",\r\n    bordered: \"bg-white rounded-lg shadow-md p-6 border\",\r\n    premium: \"bg-white rounded-lg shadow-md p-6 border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50\",\r\n} as const;\r\n\r\nexport const TEXT_STYLES = {\r\n    label: \"block text-sm font-medium text-gray-700 mb-2\",\r\n    error: \"text-red-600 text-sm mt-1\",\r\n    success: \"text-green-600 text-sm mt-1\",\r\n} as const;","import React from \"react\";\r\nimport { useQuizLogic } from \"@/hooks/useQuizLogic\";\r\nimport { BUTTON_STYLES } from \"../utils/styles\";\r\n\r\ninterface ChampionshipQuizProps {\r\n    userGrade: number;\r\n    userSchool: string;\r\n}\r\n\r\nconst ChampionshipQuiz: React.FC<ChampionshipQuizProps> = ({ userGrade, userSchool }) => {\r\n    const {\r\n        preguntaActual,\r\n        setPreguntaActual,\r\n        objetoPreguntaActual,\r\n        setObjetoPreguntaActual,\r\n        respuestaCorrecta,\r\n        setRespuestaCorrecta,\r\n        respuestaUsuario,\r\n        setRespuestaUsuario,\r\n        feedback,\r\n        setFeedback,\r\n        preguntasUsadas,\r\n        setPreguntasUsadas,\r\n        timeLeft,\r\n        setTimeLeft,\r\n        bloqueado,\r\n        setBloqueado,\r\n        aciertos,\r\n        setAciertos,\r\n        puntuacionTotal,\r\n        setPuntuacionTotal,\r\n        preguntaNumero,\r\n        setPreguntaNumero,\r\n        comprobarRespuesta,\r\n        generarPregunta,\r\n        resetQuiz\r\n    } = useQuizLogic({\r\n        timeLimit: 300,\r\n        onTimeUp: () => {\r\n            // L√≥gica espec√≠fica para campeonatos\r\n        }\r\n    });\r\n\r\n    const [currentUser, setCurrentUser] = React.useState<any>(null);\r\n    const [sessionResponses, setSessionResponses] = React.useState<any[]>([]);\r\n\r\n    // Cargar usuario actual al montar el componente\r\n    React.useEffect(() => {\r\n        const loadUser = async () => {\r\n            try {\r\n                const response = await fetch('/api/auth/me');\r\n                if (response.ok) {\r\n                    const user = await response.json();\r\n                    setCurrentUser(user);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading user:', error);\r\n            }\r\n        };\r\n        loadUser();\r\n    }, []);\r\n\r\n    // Funci√≥n para actualizar likes del usuario\r\n    const updateUserLikes = async (likesDelta: number) => {\r\n        if (!currentUser) return;\r\n        try {\r\n            const response = await fetch('/api/user/update-likes', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ likesDelta })\r\n            });\r\n            if (response.ok) {\r\n                const updatedUser = await response.json();\r\n                setCurrentUser(updatedUser);\r\n                // Emitir evento para refrescar perfil\r\n                window.dispatchEvent(new Event('profileUpdate'));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating likes:', error);\r\n        }\r\n    };\r\n\r\n    // Funci√≥n para actualizar estad√≠sticas de campeonato\r\n    const updateChampionshipStats = async (stats: any) => {\r\n        try {\r\n            const response = await fetch('/api/stats/championship', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(stats)\r\n            });\r\n            if (!response.ok) {\r\n                console.error('Error updating championship stats');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating championship stats:', error);\r\n        }\r\n    };\r\n\r\n    // Cargar preguntas de campeonato seg√∫n el curso\r\n    let preguntas: any[] = [];\r\n    try {\r\n        preguntas = require(`../questions/campeonato-${userGrade}primaria.json`);\r\n    } catch {\r\n        preguntas = [];\r\n    }\r\n\r\n    const handleGenerarPregunta = () => {\r\n        if (preguntasUsadas.length >= 25) {\r\n            setPreguntaActual(\"\");\r\n            setRespuestaCorrecta(\"\");\r\n            setFeedback(\"¬°Has completado las 25 preguntas del campeonato!\");\r\n            setBloqueado(true);\r\n\r\n            // Calcular estad√≠sticas de la sesi√≥n y enviar a API\r\n            if (currentUser) {\r\n                const now = new Date();\r\n                let temporada = now.getFullYear();\r\n                if (now.getMonth() + 1 >= 10) temporada += 1;\r\n                const temporadaKey = `t${temporada}`;\r\n\r\n                // Calcular de las respuestas de la sesi√≥n\r\n                const acertadasSesion = sessionResponses.filter((r: any) => r.correcta).length;\r\n                const falladasSesion = sessionResponses.filter((r: any) => !r.correcta).length;\r\n                const likesSesion = sessionResponses.reduce((sum: number, r: any) => sum + (r.likes || 0), 0);\r\n                const ganadoSesion = acertadasSesion > 12 ? 1 : 0;\r\n                const perdidoSesion = acertadasSesion <= 12 ? 1 : 0;\r\n\r\n                const stats = {\r\n                    nick: currentUser.nick,\r\n                    centro: currentUser.centro,\r\n                    curso: currentUser.curso,\r\n                    temporada: temporadaKey,\r\n                    acertadas: acertadasSesion,\r\n                    falladas: falladasSesion,\r\n                    likes: likesSesion,\r\n                    ganado: ganadoSesion,\r\n                    perdido: perdidoSesion,\r\n                    tipo: currentUser.tipo\r\n                };\r\n\r\n                updateChampionshipStats(stats);\r\n                setSessionResponses([]);\r\n            }\r\n            return;\r\n        }\r\n\r\n        generarPregunta(preguntas, 25);\r\n    };\r\n\r\n    const handleComprobarRespuesta = () => {\r\n        if (bloqueado) return;\r\n\r\n        const esCorrecta = respuestaUsuario.toLowerCase().trim() === respuestaCorrecta.toLowerCase().trim();\r\n        setBloqueado(true);\r\n        let likesDelta = 0;\r\n\r\n        if (esCorrecta) {\r\n            setFeedback(\"¬°Correcto! üéâ\");\r\n            likesDelta = timeLeft > 120 ? 2 : 1;\r\n        } else {\r\n            setFeedback(`Incorrecto. La respuesta era: ${respuestaCorrecta}`);\r\n            likesDelta = timeLeft > 120 ? -1 : -2;\r\n        }\r\n\r\n        updateUserLikes(likesDelta);\r\n\r\n        const respuesta = {\r\n            pregunta: preguntaActual,\r\n            respuestaUsuario,\r\n            respuestaCorrecta,\r\n            correcta: esCorrecta,\r\n            tiempo: timeLeft,\r\n            likes: likesDelta\r\n        };\r\n        setSessionResponses(prev => [...prev, respuesta]);\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 bg-yellow-100 rounded-lg\">\r\n            <h2 className=\"text-xl font-bold mb-2\">Modo Campeonato</h2>\r\n            <p>Curso seleccionado: {userGrade}¬∫ Primaria</p>\r\n            <p>Centro escolar: {userSchool || \"No especificado\"}</p>\r\n            <button className={BUTTON_STYLES.primary + \" mt-2\"} onClick={handleGenerarPregunta}>\r\n                Generar pregunta de campeonato\r\n            </button>\r\n            {preguntaActual && (\r\n                <div className=\"mt-4\">\r\n                    <div className=\"font-semibold mb-2\">{preguntaActual}</div>\r\n                    <div className=\"font-bold text-lg mb-2\">‚è∞ Tiempo: {Math.floor(timeLeft / 60)}:{(timeLeft % 60).toString().padStart(2, '0')} min</div>\r\n                    <input\r\n                        type=\"text\"\r\n                        className=\"border rounded px-2 py-1 w-full mb-2\"\r\n                        value={respuestaUsuario}\r\n                        onChange={e => setRespuestaUsuario(e.target.value)}\r\n                        placeholder=\"Escribe tu respuesta aqu√≠\"\r\n                        disabled={bloqueado}\r\n                    />\r\n                    <button className={BUTTON_STYLES.success} onClick={handleComprobarRespuesta} disabled={bloqueado}>\r\n                        Enviar respuesta\r\n                    </button>\r\n                    {feedback && <div className=\"mt-2 font-bold\">{feedback}</div>}\r\n                </div>\r\n            )}\r\n            {feedback && !preguntaActual && <div className=\"mt-2 font-bold text-red-600\">{feedback}</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChampionshipQuiz;\r\n","import { useState, useEffect } from 'react';\r\n\r\ninterface UseQuizLogicOptions {\r\n    timeLimit?: number;\r\n    onTimeUp?: () => void;\r\n    onCorrectAnswer?: (points: number) => void;\r\n    onWrongAnswer?: (penalty: number) => void;\r\n}\r\n\r\ninterface UseQuizLogicReturn {\r\n    preguntaActual: string;\r\n    setPreguntaActual: (pregunta: string) => void;\r\n    objetoPreguntaActual: any;\r\n    setObjetoPreguntaActual: (objeto: any) => void;\r\n    respuestaCorrecta: string;\r\n    setRespuestaCorrecta: (respuesta: string) => void;\r\n    respuestaUsuario: string;\r\n    setRespuestaUsuario: (respuesta: string) => void;\r\n    feedback: string;\r\n    setFeedback: (feedback: string) => void;\r\n    preguntasUsadas: string[];\r\n    setPreguntasUsadas: (preguntas: string[]) => void;\r\n    timeLeft: number;\r\n    setTimeLeft: (time: number) => void;\r\n    bloqueado: boolean;\r\n    setBloqueado: (bloqueado: boolean) => void;\r\n    aciertos: number;\r\n    setAciertos: (aciertos: number) => void;\r\n    puntuacionTotal: number;\r\n    setPuntuacionTotal: (puntuacion: number) => void;\r\n    preguntaNumero: number;\r\n    setPreguntaNumero: (numero: number) => void;\r\n    comprobarRespuesta: (customLogic?: (esCorrecta: boolean) => void) => void;\r\n    generarPregunta: (preguntas: any[], maxPreguntas?: number, onComplete?: () => void) => void;\r\n    resetQuiz: () => void;\r\n}\r\n\r\nexport function useQuizLogic(options: UseQuizLogicOptions = {}): UseQuizLogicReturn {\r\n    const {\r\n        timeLimit = 300,\r\n        onTimeUp,\r\n        onCorrectAnswer,\r\n        onWrongAnswer\r\n    } = options;\r\n\r\n    // Estados comunes\r\n    const [preguntaActual, setPreguntaActual] = useState<string>(\"\");\r\n    const [objetoPreguntaActual, setObjetoPreguntaActual] = useState<any>(null);\r\n    const [respuestaCorrecta, setRespuestaCorrecta] = useState<string>(\"\");\r\n    const [respuestaUsuario, setRespuestaUsuario] = useState<string>(\"\");\r\n    const [feedback, setFeedback] = useState<string>(\"\");\r\n    const [preguntasUsadas, setPreguntasUsadas] = useState<string[]>([]);\r\n    const [timeLeft, setTimeLeft] = useState<number>(timeLimit);\r\n    const [bloqueado, setBloqueado] = useState<boolean>(false);\r\n    const [aciertos, setAciertos] = useState<number>(0);\r\n    const [puntuacionTotal, setPuntuacionTotal] = useState<number>(0);\r\n    const [preguntaNumero, setPreguntaNumero] = useState<number>(1);\r\n\r\n    // Temporizador\r\n    useEffect(() => {\r\n        if (!preguntaActual || bloqueado) return;\r\n        if (timeLeft === 0) {\r\n            setBloqueado(true);\r\n            setPuntuacionTotal(puntuacionTotal - 15);\r\n            setFeedback(\"‚è∞ Tiempo agotado. -15 puntos\");\r\n            onTimeUp?.();\r\n            return;\r\n        }\r\n        const timer = setTimeout(() => setTimeLeft(timeLeft - 1), 1000);\r\n        return () => clearTimeout(timer);\r\n    }, [timeLeft, preguntaActual, bloqueado, puntuacionTotal, onTimeUp]);\r\n\r\n    // Funci√≥n para normalizar respuestas\r\n    function normalizar(str: string) {\r\n        return str.toLowerCase().normalize(\"NFD\").replace(/\\p{Diacritic}/gu, \"\").replace(/\\s+/g, \"\").trim();\r\n    }\r\n\r\n    // Funci√≥n para comprobar respuesta\r\n    const comprobarRespuesta = (customLogic?: (esCorrecta: boolean) => void) => {\r\n        if (bloqueado) return;\r\n\r\n        const esCorrecta = normalizar(respuestaUsuario) === normalizar(respuestaCorrecta);\r\n        setBloqueado(true);\r\n\r\n        if (esCorrecta) {\r\n            let points = 1;\r\n            if (timeLeft > 120) {\r\n                points = 1;\r\n            } else {\r\n                points = 0.5;\r\n            }\r\n            setFeedback(`¬°Correcto! üéâ +${points} punto${points !== 1 ? 's' : ''}`);\r\n            setAciertos(aciertos + 1);\r\n            setPuntuacionTotal(puntuacionTotal + points);\r\n            onCorrectAnswer?.(points);\r\n        } else {\r\n            let penalty = -0.5;\r\n            if (timeLeft <= 120) {\r\n                penalty = -1;\r\n            }\r\n            setFeedback(`Incorrecto. La respuesta era: ${respuestaCorrecta} ${penalty} punto${Math.abs(penalty) !== 1 ? 's' : ''}`);\r\n            setPuntuacionTotal(puntuacionTotal + penalty);\r\n            onWrongAnswer?.(penalty);\r\n        }\r\n\r\n        customLogic?.(esCorrecta);\r\n    };\r\n\r\n    // Funci√≥n para generar pregunta\r\n    const generarPregunta = (preguntas: any[], maxPreguntas: number = 25, onComplete?: () => void) => {\r\n        if (preguntasUsadas.length >= maxPreguntas) {\r\n            onComplete?.();\r\n            return;\r\n        }\r\n\r\n        if (preguntas.length === 0) {\r\n            setPreguntaActual(\"\");\r\n            setObjetoPreguntaActual(null);\r\n            setRespuestaCorrecta(\"\");\r\n            setFeedback(\"No hay preguntas disponibles.\");\r\n            setBloqueado(false);\r\n            setTimeLeft(timeLimit);\r\n            setPreguntasUsadas([]);\r\n            return;\r\n        }\r\n\r\n        // Filtrar preguntas no usadas\r\n        const restantes = preguntas.filter((p: any) => !preguntasUsadas.includes(p.pregunta));\r\n        if (restantes.length === 0) {\r\n            setPreguntaActual(\"\");\r\n            setObjetoPreguntaActual(null);\r\n            setRespuestaCorrecta(\"\");\r\n            setFeedback(\"¬°Has respondido todas las preguntas disponibles!\");\r\n            setBloqueado(true);\r\n            setTimeLeft(timeLimit);\r\n            setPreguntasUsadas([]);\r\n            return;\r\n        }\r\n\r\n        const random = Math.floor(Math.random() * restantes.length);\r\n        const preguntaSeleccionada = restantes[random];\r\n        setPreguntaActual(preguntaSeleccionada.pregunta);\r\n        setObjetoPreguntaActual(preguntaSeleccionada);\r\n        setRespuestaCorrecta(preguntaSeleccionada.respuesta);\r\n        setRespuestaUsuario(\"\");\r\n        setFeedback(\"\");\r\n        setBloqueado(false);\r\n        setTimeLeft(timeLimit);\r\n        setPreguntasUsadas([...preguntasUsadas, preguntaSeleccionada.pregunta]);\r\n        setPreguntaNumero(preguntaNumero + 1);\r\n    };\r\n\r\n    // Funci√≥n para resetear el quiz\r\n    const resetQuiz = () => {\r\n        setPreguntaActual(\"\");\r\n        setObjetoPreguntaActual(null);\r\n        setRespuestaCorrecta(\"\");\r\n        setRespuestaUsuario(\"\");\r\n        setFeedback(\"\");\r\n        setPreguntasUsadas([]);\r\n        setTimeLeft(timeLimit);\r\n        setBloqueado(false);\r\n        setAciertos(0);\r\n        setPuntuacionTotal(0);\r\n        setPreguntaNumero(1);\r\n    };\r\n\r\n    return {\r\n        preguntaActual,\r\n        setPreguntaActual,\r\n        objetoPreguntaActual,\r\n        setObjetoPreguntaActual,\r\n        respuestaCorrecta,\r\n        setRespuestaCorrecta,\r\n        respuestaUsuario,\r\n        setRespuestaUsuario,\r\n        feedback,\r\n        setFeedback,\r\n        preguntasUsadas,\r\n        setPreguntasUsadas,\r\n        timeLeft,\r\n        setTimeLeft,\r\n        bloqueado,\r\n        setBloqueado,\r\n        aciertos,\r\n        setAciertos,\r\n        puntuacionTotal,\r\n        setPuntuacionTotal,\r\n        preguntaNumero,\r\n        setPreguntaNumero,\r\n        comprobarRespuesta,\r\n        generarPregunta,\r\n        resetQuiz\r\n    };\r\n}"],"names":[],"mappings":"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"}