{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/src/components/UserLink.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\ninterface UserLinkProps {\r\n    nick: string;\r\n    className?: string;\r\n}\r\n\r\nexport const UserLink: React.FC<UserLinkProps> = ({ nick, className }) => {\r\n    const [isPremium, setIsPremium] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const checkPremium = async () => {\r\n            if (nick) {\r\n                try {\r\n                    const response = await fetch(`/api/user/premium-status?nick=${encodeURIComponent(nick)}`);\r\n                    const data = await response.json();\r\n                    setIsPremium(data.isPremium || false);\r\n                } catch (error) {\r\n                    setIsPremium(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        // Verificar inicialmente\r\n        checkPremium();\r\n    }, [nick]);\r\n\r\n    const normalized = (nick || \"\").trim().toLowerCase();\r\n    if (!nick || normalized === \"anonimo\" || normalized === \"an칩nimo\") {\r\n        return <span className={className || \"text-gray-500\"}>{nick || \"(sin nick)\"}</span>;\r\n    }\r\n\r\n    return (\r\n        <a\r\n            href={`/perfil/${encodeURIComponent(nick)}`}\r\n            className={className || \"text-blue-600 underline hover:text-blue-800\"}\r\n            title={`Ver perfil de ${nick}${isPremium ? ' (Usuario Premium)' : ''}`}\r\n        >\r\n            {nick}\r\n            {isPremium && (\r\n                <span className=\"ml-1 inline-flex items-center\">\r\n                    <span\r\n                        className=\"bg-gradient-to-r from-sky-100 to-blue-100 text-amber-900 text-xs px-2 py-1 rounded-full font-bold shadow-md border border-sky-300\"\r\n                        title=\"Usuario Premium\"\r\n                    >\r\n                        游녬\r\n                    </span>\r\n                </span>\r\n            )}\r\n        </a>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,MAAM,WAAoC,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE;IACjE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACN,MAAM,eAAe;YACjB,IAAI,MAAM;gBACN,IAAI;oBACA,MAAM,WAAW,MAAM,MAAM,CAAC,8BAA8B,EAAE,mBAAmB,OAAO;oBACxF,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,aAAa,KAAK,SAAS,IAAI;gBACnC,EAAE,OAAO,OAAO;oBACZ,aAAa;gBACjB;YACJ;QACJ;QAEA,yBAAyB;QACzB;IACJ,GAAG;QAAC;KAAK;IAET,MAAM,aAAa,CAAC,QAAQ,EAAE,EAAE,IAAI,GAAG,WAAW;IAClD,IAAI,CAAC,QAAQ,eAAe,aAAa,eAAe,WAAW;QAC/D,qBAAO,8OAAC;YAAK,WAAW,aAAa;sBAAkB,QAAQ;;;;;;IACnE;IAEA,qBACI,8OAAC;QACG,MAAM,CAAC,QAAQ,EAAE,mBAAmB,OAAO;QAC3C,WAAW,aAAa;QACxB,OAAO,CAAC,cAAc,EAAE,OAAO,YAAY,uBAAuB,IAAI;;YAErE;YACA,2BACG,8OAAC;gBAAK,WAAU;0BACZ,cAAA,8OAAC;oBACG,WAAU;oBACV,OAAM;8BACT;;;;;;;;;;;;;;;;;AAOrB","debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/src/utils/renderNick.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { UserLink } from \"@/components/UserLink\";\r\n\r\nexport function renderNick(nick: string, className?: string) {\r\n    return <UserLink nick={nick} className={className} />;\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;;;AAEO,SAAS,WAAW,IAAY,EAAE,SAAkB;IACvD,qBAAO,8OAAC,0IAAQ;QAAC,MAAM;QAAM,WAAW;;;;;;AAC5C","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/src/utils/styles.ts"],"sourcesContent":["// Constantes CSS reutilizables para mantener consistencia y eliminar duplicados\r\n\r\nexport const BUTTON_STYLES = {\r\n    primary: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors\",\r\n    primaryBold: \"bg-blue-500 text-white px-4 py-2 rounded font-semibold hover:bg-blue-600 transition-colors\",\r\n    primaryLarge: \"bg-blue-500 text-white px-6 py-3 rounded font-semibold hover:bg-blue-600 transition-colors\",\r\n    secondary: \"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 transition-colors\",\r\n    secondaryLarge: \"bg-gray-500 text-white px-6 py-3 rounded font-semibold hover:bg-gray-600 transition-colors\",\r\n    lightGray: \"bg-gray-200 text-gray-700 px-4 py-2 rounded font-semibold border hover:bg-gray-300 transition-colors\",\r\n    success: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\",\r\n    successBold: \"bg-green-500 text-white px-4 py-2 rounded font-semibold hover:bg-green-600 transition-colors\",\r\n    successLarge: \"bg-green-500 text-white px-6 py-3 rounded font-semibold hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\r\n    danger: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors\",\r\n    dangerBold: \"bg-red-500 text-white px-4 py-2 rounded font-semibold hover:bg-red-600 transition-colors\",\r\n    warning: \"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition-colors\",\r\n    warningBold: \"bg-yellow-500 text-white px-4 py-2 rounded font-semibold hover:bg-yellow-600 transition-colors\",\r\n    purple: \"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600 transition-colors\",\r\n    orange: \"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition-colors\",\r\n    pink: \"bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition-colors\",\r\n    pinkBold: \"bg-pink-500 text-white px-4 py-2 rounded font-semibold hover:bg-pink-600 transition-colors\",\r\n} as const; export const INPUT_STYLES = {\r\n    default: \"border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500\",\r\n    small: \"border rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\",\r\n} as const;\r\n\r\nexport const CARD_STYLES = {\r\n    default: \"bg-white rounded-lg shadow-md p-6\",\r\n    bordered: \"bg-white rounded-lg shadow-md p-6 border\",\r\n    premium: \"bg-white rounded-lg shadow-md p-6 border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50\",\r\n} as const;\r\n\r\nexport const TEXT_STYLES = {\r\n    label: \"block text-sm font-medium text-gray-700 mb-2\",\r\n    error: \"text-red-600 text-sm mt-1\",\r\n    success: \"text-green-600 text-sm mt-1\",\r\n} as const;"],"names":[],"mappings":"AAAA,gFAAgF;;;;;;;;;;;AAEzE,MAAM,gBAAgB;IACzB,SAAS;IACT,aAAa;IACb,cAAc;IACd,WAAW;IACX,gBAAgB;IAChB,WAAW;IACX,SAAS;IACT,aAAa;IACb,cAAc;IACd,QAAQ;IACR,YAAY;IACZ,SAAS;IACT,aAAa;IACb,QAAQ;IACR,QAAQ;IACR,MAAM;IACN,UAAU;AACd;AAAmB,MAAM,eAAe;IACpC,SAAS;IACT,OAAO;AACX;AAEO,MAAM,cAAc;IACvB,SAAS;IACT,UAAU;IACV,SAAS;AACb;AAEO,MAAM,cAAc;IACvB,OAAO;IACP,OAAO;IACP,SAAS;AACb","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/src/app/historias/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { renderNick } from \"@/utils/renderNick\";\r\nimport { useTranslation } from \"@/utils/i18n\";\r\nimport { CARD_STYLES } from \"@/utils/styles\";\r\n\r\ntype Historia = {\r\n    id: number;\r\n    titulo: string;\r\n    autor: string;\r\n    fecha: string;\r\n    imagen?: string;\r\n    likes?: number;\r\n    comentarios?: any[];\r\n};\r\n\r\nexport default function Historias() {\r\n    const [historias, setHistorias] = useState<Historia[]>([]);\r\n    const [topLikes, setTopLikes] = useState<Historia[]>([]);\r\n    const [topComentarios, setTopComentarios] = useState<Historia[]>([]);\r\n    const { t } = useTranslation();\r\n    useEffect(() => {\r\n        fetch('/api/historias')\r\n            .then(response => response.json())\r\n            .then(arr => {\r\n                setHistorias(arr);\r\n                setTopLikes([...arr].sort((a, b) => (b.likes || 0) - (a.likes || 0)).slice(0, 25));\r\n                setTopComentarios([...arr].sort((a, b) => (b.comentarios?.length || 0) - (a.comentarios?.length || 0)).slice(0, 25));\r\n            })\r\n            .catch(error => {\r\n                console.error('Error cargando historias:', error);\r\n            });\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-green-100 p-8\">\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">{t('historiasTitle')}</h1>\r\n            {/* Bloque superior: 칰ltimas 25 historias */}\r\n            <div className={`${CARD_STYLES.default} max-w-4xl mx-auto mb-8`}>\r\n                <h2 className=\"text-lg font-bold mb-2 text-center\">{t('ultimas25Historias')}</h2>\r\n                <ul className=\"divide-y\">\r\n                    {historias.length > 0 ? (\r\n                        historias.map((historia, idx) => (\r\n                            <li key={historia.id} className=\"flex items-center justify-between py-2\">\r\n                                <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                <a href={`/historias/${historia.id}`} className=\"text-blue-600 hover:underline flex-1 ml-2\">{historia.titulo}</a>\r\n                                <span className=\"ml-4 text-gray-700\">{renderNick(historia.autor)}</span>\r\n                                <span className=\"ml-4 text-gray-500 text-sm\">{historia.fecha}</span>\r\n                                <span className=\"ml-4 text-pink-600 font-bold\">仇벒잺 {historia.likes || 0}</span>\r\n                            </li>\r\n                        ))\r\n                    ) : (\r\n                        Array.from({ length: 25 }, (_, idx) => (\r\n                            <li key={idx} className=\"flex items-center justify-between py-2\">\r\n                                <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                <span className=\"text-gray-400 flex-1 ml-2\">{t('aunNoHayHistoria')}</span>\r\n                            </li>\r\n                        ))\r\n                    )}\r\n                </ul>\r\n            </div>\r\n            {/* Bloques inferiores: m치s likes y m치s comentarios */}\r\n            <div className=\"flex flex-row gap-8 max-w-7xl mx-auto\">\r\n                {/* Bloque: historias con m치s likes */}\r\n                <div className={`${CARD_STYLES.default} w-1/2`}>\r\n                    <h2 className=\"text-lg font-bold mb-2 text-center\">{t('topHistoriasLikes')}</h2>\r\n                    <ul className=\"divide-y\">\r\n                        {topLikes.length > 0 ? (\r\n                            topLikes.map((historia, idx) => (\r\n                                <li key={historia.id} className=\"flex items-center justify-between py-2\">\r\n                                    <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                    <a href={`/historias/${historia.id}`} className=\"text-blue-600 hover:underline flex-1 ml-2\">{historia.titulo}</a>\r\n                                    <span className=\"ml-4 text-gray-700\">{renderNick(historia.autor)}</span>\r\n                                    <span className=\"ml-4 text-gray-500 text-sm\">{historia.fecha}</span>\r\n                                    <span className=\"ml-4 text-pink-600 font-bold\">仇벒잺 {historia.likes || 0}</span>\r\n                                </li>\r\n                            ))\r\n                        ) : (\r\n                            Array.from({ length: 25 }, (_, idx) => (\r\n                                <li key={idx} className=\"flex items-center justify-between py-2\">\r\n                                    <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                    <span className=\"text-gray-400 flex-1 ml-2\">{t('aunNoHayHistoria')}</span>\r\n                                </li>\r\n                            ))\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n                {/* Bloque: historias con m치s comentarios */}\r\n                <div className={`${CARD_STYLES.default} w-1/2`}>\r\n                    <h2 className=\"text-lg font-bold mb-2 text-center\">{t('topHistoriasComentarios')}</h2>\r\n                    <ul className=\"divide-y\">\r\n                        {topComentarios.length > 0 ? (\r\n                            topComentarios.map((historia, idx) => (\r\n                                <li key={historia.id} className=\"flex items-center justify-between py-2\">\r\n                                    <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                    <a href={`/historias/${historia.id}`} className=\"text-blue-600 hover:underline flex-1 ml-2\">{historia.titulo}</a>\r\n                                    <span className=\"ml-4 text-gray-700\">{renderNick(historia.autor)}</span>\r\n                                    <span className=\"ml-4 text-gray-500 text-sm\">{historia.fecha}</span>\r\n                                    <span className=\"ml-4 text-green-600 font-bold\">游눫 {historia.comentarios?.length || 0}</span>\r\n                                </li>\r\n                            ))\r\n                        ) : (\r\n                            Array.from({ length: 25 }, (_, idx) => (\r\n                                <li key={idx} className=\"flex items-center justify-between py-2\">\r\n                                    <span className=\"font-bold w-8 text-center\">{idx + 1}췈</span>\r\n                                    <span className=\"text-gray-400 flex-1 ml-2\">{t('aunNoHayHistoria')}</span>\r\n                                </li>\r\n                            ))\r\n                        )}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}