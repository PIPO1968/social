{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/src/app/liga-premium/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ninterface UsuarioPremium {\r\n    nick: string;\r\n    avatar?: string;\r\n    puntos: number;\r\n    historiasCreadas: number;\r\n    preguntasAcertadas: number;\r\n    amigos: number;\r\n    medallas: number;\r\n}\r\n\r\nconst LigaPremiumPage: React.FC = () => {\r\n    const router = useRouter();\r\n    const [usuarioActual, setUsuarioActual] = useState<any>(null);\r\n    const [isPremium, setIsPremium] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [usuariosPremium, setUsuariosPremium] = useState<UsuarioPremium[]>([]);\r\n\r\n    useEffect(() => {\r\n        // Obtener usuario actual\r\n        fetch('/api/auth/me')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.user) {\r\n                    setUsuarioActual(data.user);\r\n                    // Verificar si es premium\r\n                    fetch('/api/premium/data?nick=' + data.user.nick)\r\n                        .then(response => response.json())\r\n                        .then(premiumData => {\r\n                            // LOG TEMPORAL PARA DEPURAR\r\n                            const fechaExp = premiumData.fechaExpiracion || premiumData.expiracion;\r\n                            let fechaValida = false;\r\n                            if (fechaExp) {\r\n                                const fecha = typeof fechaExp === 'string' ? new Date(fechaExp) : fechaExp;\r\n                                fechaValida = fecha.getTime() > Date.now();\r\n                            }\r\n                            if (premiumData.activo && fechaValida) {\r\n                                setIsPremium(true);\r\n                                cargarLigaPremium();\r\n                            } else {\r\n                                alert('Tu suscripci√≥n Premium ha expirado. Renueva para acceder a la Liga Premium.');\r\n                                router.push('/premium-nuevo');\r\n                            }\r\n                        })\r\n                        .catch(() => {\r\n                            alert('Esta funci√≥n es exclusiva para usuarios Premium.');\r\n                            router.push('/premium-nuevo');\r\n                        });\r\n                } else {\r\n                    router.push('/');\r\n                }\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                router.push('/');\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    const cargarLigaPremium = () => {\r\n        fetch('/api/liga-premium')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                setUsuariosPremium(data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error cargando liga premium:', error);\r\n            });\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 flex items-center justify-center\">\r\n                <div className=\"text-white text-xl\">Cargando Liga Premium...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isPremium) {\r\n        return null; // Ya redirigi√≥\r\n    }\r\n\r\n    const posicionUsuario = usuariosPremium.findIndex(u => u.nick === usuarioActual.nick) + 1;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 p-8\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <h1 className=\"text-4xl font-bold text-white mb-2\">üèÜ Liga Premium Exclusiva</h1>\r\n                    <p className=\"text-yellow-100 text-lg\">Compite con los mejores usuarios Premium</p>\r\n                </div>\r\n\r\n                {/* Tu posici√≥n */}\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8 text-center\">\r\n                    <h2 className=\"text-2xl font-bold text-white mb-2\">Tu Posici√≥n</h2>\r\n                    <div className=\"text-6xl font-bold text-yellow-300\">#{posicionUsuario}</div>\r\n                    <div className=\"text-yellow-100 mt-2\">\r\n                        {usuariosPremium.find(u => u.nick === usuarioActual.nick)?.puntos || 0} puntos\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabla de clasificaci√≥n */}\r\n                <div className=\"bg-white rounded-lg shadow-xl overflow-hidden\">\r\n                    <div className=\"bg-gradient-to-r from-yellow-500 to-orange-500 p-4\">\r\n                        <h3 className=\"text-xl font-bold text-white text-center\">üèÖ Clasificaci√≥n Premium</h3>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                            <thead className=\"bg-gray-50\">\r\n                                <tr>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Posici√≥n</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Usuario</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Puntos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Historias</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Aciertos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Amigos</th>\r\n                                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Medallas</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                                {usuariosPremium.slice(0, 20).map((usuario, index) => (\r\n                                    <tr key={usuario.nick} className={usuario.nick === usuarioActual.nick ? 'bg-yellow-50' : ''}>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className={`text-lg font-bold ${index === 0 ? 'text-yellow-500' :\r\n                                                    index === 1 ? 'text-gray-400' :\r\n                                                        index === 2 ? 'text-orange-600' :\r\n                                                            'text-gray-600'\r\n                                                    }`}>\r\n                                                    #{index + 1}\r\n                                                </div>\r\n                                                {index < 3 && (\r\n                                                    <span className=\"ml-2\">\r\n                                                        {index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : 'ü•â'}\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                                            <div className=\"flex items-center\">\r\n                                                <div className=\"flex-shrink-0 h-10 w-10\">\r\n                                                    <img\r\n                                                        className=\"h-10 w-10 rounded-full\"\r\n                                                        src={usuario.avatar || '/avatars/simple1.png'}\r\n                                                        alt={usuario.nick}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"ml-4\">\r\n                                                    <div className=\"text-sm font-medium text-gray-900\">\r\n                                                        {usuario.nick}\r\n                                                        {usuario.nick === usuarioActual.nick && (\r\n                                                            <span className=\"ml-2 text-yellow-500\">(T√∫)</span>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 font-bold\">\r\n                                            {usuario.puntos.toLocaleString()}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.historiasCreadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.preguntasAcertadas}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.amigos}\r\n                                        </td>\r\n                                        <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                                            {usuario.medallas}\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* C√≥mo ganar puntos */}\r\n                <div className=\"mt-8 bg-white/10 backdrop-blur-sm rounded-lg p-6\">\r\n                    <h3 className=\"text-xl font-bold text-white mb-4\">üí° C√≥mo ganar puntos en la Liga Premium</h3>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-yellow-100\">\r\n                        <div>\r\n                            <strong>üìñ Historias creadas:</strong> 10 puntos cada una<br />\r\n                            <strong>‚úÖ Preguntas acertadas:</strong> 5 puntos cada una<br />\r\n                            <strong>üë• Amigos:</strong> 20 puntos cada amigo<br />\r\n                        </div>\r\n                        <div>\r\n                            <strong>üèÖ Medallas:</strong> 50 puntos cada medalla<br />\r\n                            <strong>üéØ Torneos Premium:</strong> Puntuaci√≥n total de torneos<br />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Bot√≥n volver */}\r\n                <div className=\"text-center mt-8\">\r\n                    <button\r\n                        onClick={() => router.push('/premium-nuevo')}\r\n                        className=\"bg-white text-yellow-600 px-8 py-3 rounded-lg font-bold hover:bg-yellow-50 transition-colors\"\r\n                    >\r\n                        ‚Üê Volver a Premium\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LigaPremiumPage;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 577, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/social/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}