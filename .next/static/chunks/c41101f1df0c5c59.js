(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16123,e=>{"use strict";var a=e.i(43476),t=e.i(71645);function i(){let[e,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[r,n]=(0,t.useState)(!1),s=async()=>{n(!0);try{let a=await fetch("/api/auth/me"),t=await a.json();if(!t.user){alert("No se ha detectado usuario. Inicia sesión."),n(!1);return}let r=t.user.nick;await fetch("/api/noticias",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({titulo:e,contenido:l,autorNick:r})}),alert("Noticia enviada!"),i(""),o("")}catch(e){console.error("Error creando noticia:",e),alert("Error enviando noticia")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-blue-50 p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Crear Noticia"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-xl mx-auto flex flex-col gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Título de la noticia",className:"w-full border rounded px-3 py-2 font-semibold text-lg mb-2",value:e,onChange:e=>i(e.target.value)}),(0,a.jsx)("textarea",{placeholder:"Escribe la noticia aquí...",className:"w-full border rounded px-3 py-2 min-h-[120px] mb-2",value:l,onChange:e=>o(e.target.value)}),(0,a.jsx)("button",{className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded self-end",onClick:s,disabled:r,children:"Enviar"})]})]})}e.s(["default",()=>i])}]);